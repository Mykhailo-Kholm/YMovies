@model YMovies.Web.ViewModels.TopImdbViewModel
@using PagedList.Mvc;

<table>
    @{ var counter = 1; }
    <tr>
        @foreach (var film in Model.Movies)
        {
            <td>
                <div>
                    <div align="center">
                        @film.Title
                    </div>
                    <div>
                        <a href="@Url.Action("TopMovieDetails", "Movies", new { filmid = film.Id, imdbid=film.ImdbId})">
                            <img src="@Html.Raw(film.PosterUrl)" alt="a description of the image" height=" 250" width="200">
                        </a>
</div>
                    <div align="center">
                        <span>ImdbRating: @film.ImdbRating</span>
                    </div>
                </div>
            </td>
            if (counter % 5 == 0)
            {
            @:</tr>
                @:<tr>
            }
            counter++;
        }
    </tr>
</table>

Page @(Model.MoviePageList.PageCount < Model.MoviePageList.PageNumber ? 0 : Model.MoviePageList.PageNumber) of @Model.MoviePageList.PageCount
@Html.PagedListPager(Model.MoviePageList, page => Url.Action("TopByIMDb",
    new { page, sortOrder = ViewBag.CurrentSort, currentFilter = ViewBag.CurrentFilter }))


